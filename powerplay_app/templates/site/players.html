{# file: powerplay_app/templates/site/players.html #}
{% extends "site/base.html" %}

{% block title %}Hráči | {% if primary_team %}{{ primary_team.name }} | {% endif %}PowerPlay{% endblock %}
{% block crumbs %}Domů / Hráči{% endblock %}

{% block content %}
<section class="section">
  <div class="container">
    {# Nadpis necháme jen pro a11y, vizuálně skrytý #}
    <h1 class="sr-only">Hráči</h1>

    <div class="filters mt-2" role="tablist" aria-label="Filtr pozic">
      {# Všichni #}
      <a class="filter__link {% if not selected_pos %}is-active{% endif %}" href="{% url 'site:players' %}">
        Všichni <span class="filter__count">{{ total_count }}</span>
      </a>
      {# Podle pozice #}
      {% for it in pos_list %}
        <a class="filter__link {% if selected_pos == it.key %}is-active{% endif %}" href="{% url 'site:players' %}?pos={{ it.key }}">
          {{ it.label }} <span class="filter__count">{{ it.count }}</span>
        </a>
      {% endfor %}
    </div>

    {% if players %}
      <div class="players-grid mt-4">
        {% for p in players %}
          {% include "site/_partials/player_trading_card.html" with player=p %}
        {% endfor %}
      </div>
    {% else %}
      <p class="muted">Zatím bez hráčů.</p>
    {% endif %}
  </div>
</section>
{% endblock %}
